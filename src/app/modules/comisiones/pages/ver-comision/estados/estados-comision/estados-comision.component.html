<div class="container card shadow mt-5 bg-white rounded p-5 w-75">
    <div class="row header-row">
      <div class="col">
        <p class="text-secondary">ASOCIAR UN ESTADO A LA COMISIÓN </p>
      </div>
    </div>
    <hr />
    <form [formGroup]="asociarEstadoForm" (ngSubmit)="asociarEstado()">
      <div class="row regular-row">
        
        <div class="col-4 label">Nuevo Estado</div>
        <div class="col-sm-8">
          <select formControlName="estados_id" class="form-control" 
            [ngClass]="{ 'is-invalid': submitted && f['estados_id'].errors }">
            <option [value]="op.id | number" *ngFor="let op of nuevoEstado$ | async">
              {{ op.nombre }}
            </option>
          </select>
          <div *ngIf="submitted && f['estados_id'].errors" class="invalid-feedback">
            <div *ngIf="f['estados_id'].errors['required']">
              Elige un Estado
            </div>
          </div>
        </div>
      </div>
      <hr />
      <div>

        <div class="row regular-row">
          <div class="col-4 label">Justificación *</div>
          <div class="col-sm-8">
            <div class="form-group">
              <textarea class="form-control" rows="3" formControlName="observacion"></textarea>
            </div>
          </div>
        </div>
        
        <div *ngIf="error" class="alert alert-danger mt-3 mb-0">
          {{ error }}
        </div>
      </div>
  
      <hr />
      <div class="row footer-row">
        <div class="col-sm-9">
          <button type="button" class="btn btn-secondary float-right" 
          [routerLink]="['/comisiones/ver-comision', this.getId]">
            Cancelar
          </button>
          <div class="col-sm-1"></div>
        </div>
        <div class="col-sm-2 form-group">
          <button class="btn btn-green btn-success float-right">
            <span  *ngIf="isLoading | async" class="spinner-border spinner-border-sm mr-1"></span>
            Enviar
          </button>
        </div>
      </div>
    </form>
  </div>
