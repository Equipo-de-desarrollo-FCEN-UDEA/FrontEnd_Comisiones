<div class="container shadow pt-4 pl-4 pr-4 mb-5 mt-5 bg-white rounded" style="align-items: unset;">
  <div class="row header-row">
    <div class="col">
      <span class="text-secondary">COMISIÓN</span>
    </div>
  </div>

  <hr />
  <div class="row regular-row">
    <div class="col-6 label">Solicitante</div>
    <div class="col-sm-6">
      {{ comision?.usuarios?.nombre }} {{ comision?.usuarios?.apellido }}
    </div>
  </div>

  <hr />
  <div class="row regular-row">
    <div class="col-6 label">Tipo de Comisión</div>
    <div class="col-sm-6">{{comision?.tipos_comision?.nombre}}</div>
  </div>

  <div class="row regular-row">
    <div class="col-6 label">Fecha de Creación</div>
    <div class="col-sm-6">{{ fechaCreacion | date:'yyyy-MM-dd'}} </div>
  </div>

  <div class="row regular-row">
    <div class="col-6 label">Día que Inicia</div>
    <div class="col-sm-6">{{comision?.fecha_inicio | date: "fullDate"}}</div>
  </div>

  <div class="row regular-row">
    <div class="col-6 label">Día que Termina</div>
    <div class="col-sm-6">{{comision?.fecha_fin | date: "fullDate"}}</div>
  </div>

  <div class="row regular-row">
    <div class="col-6 label">Idioma</div>
    <div class="col-sm-6">{{comision?.idioma}}</div>
  </div>

  <div class="row regular-row">
    <div class="col-6 label">Lugar</div>
    <div class="col-sm-6">{{comision?.lugar}}</div>
  </div>

  <div class="row regular-row">
    <div class="col-6 label">Justificación</div>
    <div class="col-sm-6">{{comision?.justificacion}}</div>
  </div>


  <div class="row regular-row">
    <div class="col-6 label">Estado Actual de la Comisión</div>
      <div class="col-4">
        <span 
        class="badge badge-pill pill"
        [ngClass]="{
          'bg-solicitada':
          estadoActual === 'SOLICITADA',
          'bg-aprobada':
            estadoActual === 'APROBADA',
          'bg-visto-bueno':
            estadoActual === 'VISTO BUENO',
          'bg-finalizada':
            estadoActual === 'FINALIZADA',
          'bg-rechazada-decanato':
            estadoActual === 'RECHAZADA DECANATO',
          'bg-rechazada-coordinacion':
            estadoActual === 'RECHAZADA COORDINACIÓN'
        }"> 
          {{estadoActual}}
        </span>
      </div>
  </div>

  
  <!-- DOCUMENTOS -->
  <div class="row regular-row">
    <div class="col-4 label">Documentos</div>
    <div class="col-sm-8">
      <ul *ngFor="let doc of documentosArray; let i=index " class="list-group">
        <li [id]="i" class="list-group-item" > 
          <button class="btn btn-circle" type="button" (click)="abrirDocumento(doc.id)">
            {{doc.nombre}}
          </button>
        </li>
      </ul>
    </div>
  </div>


  <div class="row regular-row">
    <div class="col-6 label">Resolución</div>
    <div class="col-6"></div>
  </div>

  <!-- <div class="d-md-flex justify-content-md-end">
    <div class="d-grid gap-2 col-sm-12 col-md-4 col-lg-2 col-xl-2 p-2">
      <button 
      type="button" 
      class="btn btn-success" 
      >
        Agregar Estado
      </button>
    </div>
    <div class="d-grid gap-2 col-sm-12 col-md-4 col-lg-2 col-xl-2 p-2">
      <button
        type="button"
        class="btn btn-success"
      >
        Subir cumplido
      </button>
    </div> -->
    <!-- <div  class="col-sm-12 col-md-4 col-lg-4 col-xl-4 p-2">
      <app-ver-estados-comision></app-ver-estados-comision>
    </div> -->
  <!-- </div> -->
  <div *ngIf="error" class="alert alert-danger mt-3 mb-0">
    {{ error }}
  </div>

  <!-- ELIMINAR O EDITAR -->
  <hr />
  <div class="footer-row d-md-flex justify-content-md-end">
    <div class="d-grid gap-2 col-sm-12 col-md-4 col-lg-4 col-xl-3 p-2">
      <button class="btn btn-danger" 
      (click)="delete(comision?.id)">
        <span *ngIf="isLoading | async" class="spinner-border spinner-border-sm" ></span>
        Eliminar
      </button>
    </div>
    <div class="d-grid gap-2 col-sm-12 col-md-4 col-lg-4 col-xl-3 p-2">
      <button
        type="button"
        class="btn btn-warning "
        [routerLink]="['/comisiones/editar-comision', comision?.id]"
      >
        Editar
      </button>
    </div>
  </div>
</div>
